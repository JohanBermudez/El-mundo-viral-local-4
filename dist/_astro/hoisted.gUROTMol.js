document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("main-header"),h=document.getElementById("headerContent"),f=document.getElementById("headerSpacer"),s=document.getElementById("scrollCategoryPills"),l=document.getElementById("menuButton"),a=document.getElementById("closeMenuBtn"),e=document.getElementById("menu"),o=e?.querySelector("div"),i=document.getElementById("searchToggleBtn"),r=document.getElementById("closeSearchBtn"),c=document.getElementById("searchOverlay"),y=document.getElementById("searchInput");function L(){!e||!o||(e.classList.remove("hidden"),setTimeout(()=>{o.classList.remove("translate-x-full")},10),document.body.style.overflow="hidden")}function d(){!e||!o||(o.classList.add("translate-x-full"),setTimeout(()=>{e.classList.add("hidden"),document.body.style.overflow=""},300))}function v(){c&&(c.classList.remove("-translate-y-full"),setTimeout(()=>{y?.focus()},300))}function m(){c&&c.classList.add("-translate-y-full")}l&&l.addEventListener("click",L),a&&a.addEventListener("click",d),e&&e.addEventListener("click",t=>{t.target===e&&d()}),i&&i.addEventListener("click",v),r&&r.addEventListener("click",m),document.addEventListener("keydown",t=>{t.key==="Escape"&&(d(),m())});const u=150;window.addEventListener("scroll",()=>{if(!n||!h||!f||!s)return;const t=window.scrollY,E=window.matchMedia("(max-width: 768px)").matches;t>u&&!E?(s.classList.remove("hidden"),setTimeout(()=>{s.classList.remove("opacity-0")},50),n.classList.add("shadow-md"),n.classList.remove("shadow-sm")):(s.classList.add("opacity-0"),setTimeout(()=>{s.classList.add("hidden")},300),t<=u&&(n.classList.remove("shadow-md"),n.classList.add("shadow-sm")))})});
